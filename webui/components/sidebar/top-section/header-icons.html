<html>
<head>
  <script type="module">
    import { store as sidebarStore } from "/components/sidebar/sidebar-store.js";
    import { store as chatsStore } from "/components/sidebar/chats/chats-store.js";
  </script>
</head>
<body>
  <div class="icons-section" id="hide-button" x-data>
    <!-- Sidebar Toggle Button -->
    <button id="toggle-sidebar" class="toggle-sidebar-button" @click="$store.sidebar.toggle()" aria-label="Toggle Sidebar" aria-expanded="false">
      <span class="material-symbols-outlined" aria-hidden="true">menu</span>
    </button>

    <div id="logo-container">
      <a href="https://github.com/agent0ai/agent-zero" target="_blank" rel="noopener noreferrer">
        <img src="./public/splash.jpg" alt="a0" width="22" height="22">
      </a>
    </div>

    <!-- New Chat Button -->
    <button id="newChat" @click="$store.chats.newChat()" aria-label="New Chat">
      <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 110 135" width="32" height="32">
        <path d="m38.3 81.3 3.2-9.1 3.1-9v-.1c0-.2.1-.3.2-.4.1-.2.2-.3.3-.4L82.4 25c1.6-1.6 3.7-2.4 5.7-2.4h.2c2 0 4 .8 5.6 2.4l3.7 3.7.1.2c1.5 1.6 2.2 3.6 2.2 5.6v.2c0 2-.8 4-2.4 5.6l-.1.1-3.8 3.6-.1.1-.1.1-32.9 33-.1.1q-.45.45-.9.6l-9.1 3.2h-.1l-9.1 3.1c-1.2.4-2.5-.2-2.9-1.4q-.3-.75 0-1.5m7.5-7.6-1.6 4.6 4.6-1.6 5.7-2-3.4-3.4-3.3-3.3zm4.2-9.9 4.3 4.3 4.3 4.3 30-30-8.6-8.5zm35.7-35.7-2.5 2.5 8.6 8.6 2.4-2.4.1-.1c.6-.6 1-1.5 1-2.3v-.1c0-.9-.3-1.8-1-2.4l-3.7-3.7c-.6-.6-1.5-1-2.3-1h-.1c-.9-.1-1.8.3-2.5.9m.4 44.1c0-1.3 1-2.3 2.3-2.3s2.3 1 2.3 2.3V101c0 3.2-1.3 6.1-3.4 8.2s-5 3.4-8.2 3.4H21.6c-3.2 0-6.1-1.3-8.2-3.4s-3.4-5-3.4-8.2V43.4c0-3.2 1.3-6.1 3.4-8.2s5-3.4 8.2-3.4h28.8c1.3 0 2.3 1 2.3 2.3s-1 2.3-2.3 2.3H21.6c-1.9 0-3.7.8-4.9 2-1.3 1.3-2 3-2 4.9v57.6c0 1.9.8 3.6 2 4.9 1.3 1.3 3 2 4.9 2h57.6c1.9 0 3.7-.8 4.9-2 1.3-1.3 2-3 2-4.9z" style="fill:currentColor"></path>
      </svg>
    </button>
  </div>


  <style>
    /* Sidebar toggle button + logo container (migrated) */
    .toggle-sidebar-button {
      height: 2.6rem;
      width: 2.6rem;
      background-color: var(--color-background);
      border: 0.1rem solid var(--color-border);
      border-radius: var(--spacing-xs);
      color: var(--color-text);
      opacity: 0.8;
      cursor: pointer;
      left: var(--spacing-md);
      padding: 0.47rem 0.56rem;
      position: absolute;
      top: var(--spacing-md);
      z-index: 999;
      -webkit-transition: all var(--transition-speed) ease-in-out;
      transition: all var(--transition-speed) ease-in-out;
    }
    .toggle-sidebar-button:hover { background-color: var(--color-secondary); opacity: 1; }
    .toggle-sidebar-button:active { opacity: 0.5; }
    .toggle-sidebar-button .material-symbols-outlined { 
      font-size: 22px;
      -webkit-transition: all var(--transition-speed) ease; 
      transition: all var(--transition-speed) ease; 
    }
    .toggle-sidebar-button:active .material-symbols-outlined { -webkit-transform: scaleY(0.8); transform: scaleY(0.8); }

    #logo-container {
      display: -webkit-flex;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: fixed;
      left: 4.6rem;
      top: var(--spacing-md);
      z-index: 1004;
      -webkit-transition: margin-left var(--transition-speed) ease-in-out;
      transition: margin-left var(--transition-speed) ease-in-out;
    }
    #logo-container a { color: inherit; text-decoration: none; }
    #logo-container img { border-radius: var(--spacing-xs); width: auto; height: 2.6rem; -webkit-transition: filter 0.3s ease; transition: filter 0.3s ease; }

    .light-mode #logo-container img { -webkit-filter: invert(100%) grayscale(100%); filter: invert(100%) grayscale(100%); }

    /* New Chat Button */
    #newChat {
      display: flex;
      flex-wrap: nowrap;
      background-color: transparent;
      border: none;
      align-items: center;
      position: absolute;
      left: 12rem;
      top: var(--spacing-md);
      z-index: 1004;
      opacity: 0.6;
      cursor: pointer;
      -webkit-transition: all 0.1s ease-in-out, left var(--transition-speed) ease-in-out;
      transition: all 0.1s ease-in-out, left var(--transition-speed) ease-in-out;
    }
    #newChat:hover { opacity: 0.85; transform: scale(1.04); }
    #newChat:active { opacity: 0.5; transform: scale(0.98); }
    #newChat svg { color: var(--color-text); }

    @media (max-width: 768px) {
      .toggle-sidebar-button { position: fixed; left: var(--spacing-md); z-index: 1004; }
      #logo-container { -webkit-transition: all 0.3s ease; transition: all 0.3s ease; z-index: 1004; }
    }
  </style>
</body>
</html>


